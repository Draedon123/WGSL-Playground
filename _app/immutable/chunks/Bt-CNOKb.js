import{v as b,w as l,g as o,x as d,S as _,y as g,z as p,n as f,A as v,i as y,B as S}from"./BbEfYca8.js";import{s as T,g as w}from"./DKCuDxqc.js";function c(s,r){return s===r||s?.[_]===r}function B(s={},r,e,u){return b(()=>{var n,i;return l(()=>{n=i,i=[],o(()=>{s!==e(...i)&&(r(s,...i),n&&c(e(...n),s)&&r(null,...n))})}),()=>{d(()=>{i&&c(e(...i),s)&&r(null,...i)})}}),s}let t=!1,a=Symbol();function E(s,r,e){const u=e[r]??={store:null,source:v(void 0),unsubscribe:f};if(u.store!==s&&!(a in e))if(u.unsubscribe(),u.store=s??null,s==null)u.source.v=void 0,u.unsubscribe=f;else{var n=!0;u.unsubscribe=T(s,i=>{n?u.source.v=i:S(u.source,i)}),n=!1}return s&&a in e?w(s):y(u.source)}function M(){const s={};function r(){g(()=>{for(var e in s)s[e].unsubscribe();p(s,a,{enumerable:!1,value:!0})})}return[s,r]}function N(s){var r=t;try{return t=!1,[s(),t]}finally{t=r}}export{E as a,B as b,N as c,M as s};
